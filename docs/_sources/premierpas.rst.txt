.. _premierpas:


*************************
Premiers pas avec SimGen
*************************

.. _installing-docdir:

Installation de SimGen
======================

On peut installer facilement SimGen en suivant deux étapes. La première est de télécharger le simulateur depuis Github ::

  git clone https://github.com/creei-models/simgen simgen

Ensuite on doit l'installer au terminal en allant a la racine du répertoire *simgen* ::

  python setup.py install

Par la suite, on ne devrait pas travailler dans ce répertoire d'installation. Pour obtenir une nouvelle version, il suffit de répéter les étapes qui précèdent.

Importer SimGen dans un notebook ou un script
=============================================

Pour importer SimGen dans un notebook ou un script Python, on ajoute:

.. code:: ipython3

    import simgen

On peut aussi importer des sous-modules spécifiques en utilisant:

.. code:: ipython3

    from simgen import model, update, parse

Rouler une première simulation
==============================

On importe le modèle:

.. code:: ipython3

    from simgen import model

On déclare une instance avec année de départ et année d’arrêt.

.. code:: ipython3

    base = model(start_yr=2017,stop_yr=2040)

On donne le nom du fichier *pickle* qui contient la base de départ (un exemple se trouve dans simgen/params). Il peut être copié dans le répertoire de travail.

.. code:: ipython3

    base.startpop('startpop')

On donne les hypothèses d’immigration ainsi que le nom du fichier pour la population de nouveaux immigrants. Un exemple peut être copié dans le répertoire de travail et se trouve sous simgen/params.

.. code:: ipython3

    base.immig_assumptions(init='newimmpop')

On prend les hypothèses par défaut pour les naissances:

.. code:: ipython3

    base.birth_assumptions()

On prend aussi les hypothèses par défaut pour la mortalité:

.. code:: ipython3

    base.dead_assumptions()

On peut toujours réinitialiser à l'aide de *reset*.

.. code:: ipython3

    base.reset()

.. code:: ipython3

    base.pop.size()

.. parsed-literal::

    8298827.000000236

On peut faire une seule année en utilisant *next()*.

.. code:: ipython3

    base.next()

Pour faire rouler la simulation de l’année de départ à l’année de fin, on lance *simulate*:

.. code:: ipython3

    time base.simulate()

.. parsed-literal::

    2040
