

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Base de départ &mdash; Documentation SimGen </title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Documentation des fonctions de SimGen" href="code.html" />
    <link rel="prev" title="Premiers pas avec SimGen" href="premierpas.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SimGen
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Menu:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="premierpas.html">Premiers pas avec SimGen</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Base de départ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#exemple-de-mise-en-forme-des-donnees">Exemple de mise en forme des données</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nettoyage-de-la-bdsps">Nettoyage de la BDSPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adapter-les-noms-de-variables-pour-simgen">Adapter les noms de variables pour SimGen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creation-des-structures-de-population-et-sauvegarde-des-donnees">Création des structures de population et sauvegarde des données</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="code.html">Documentation des fonctions de SimGen</a></li>
<li class="toctree-l1"><a class="reference internal" href="transition_models.html">Modèles de transition</a></li>
<li class="toctree-l1"><a class="reference internal" href="resultats.html">Résultats</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SimGen</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Base de départ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/import.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="base-de-depart">
<span id="import"></span><h1>Base de départ<a class="headerlink" href="#base-de-depart" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="exemple-de-mise-en-forme-des-donnees">
<h2>Exemple de mise en forme des données<a class="headerlink" href="#exemple-de-mise-en-forme-des-donnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il est important de noter que les données populationnelles de base pour SimGen proviennent de la <a class="reference external" href="https://www.statcan.gc.ca/fra/microsimulation/bdmsps/bdmsps">Base de données de simulation de politiques sociales (BDSPS)</a> qui est produite par Statistique Canada. La BDSPS est une base de données non confidentielle et statistiquement représentative de particuliers canadiens dans leur contexte familial, contenant suffisamment de renseignements sur chaque particulier pour calculer
les impôts payés au gouvernement et les transferts de fonds versés par ce dernier.</p>
<p>La BDSPS est disponible par l’entremise de l’Initiative de démocratisation des données (IDD). Les professeurs et étudiants des établissements postsecondaires participants peuvent accéder au modèle par l’entremise de leur contact auprès de l’IDD. Pour plus de renseignements sur le programme de l’IDD, consulter <a class="reference external" href="https://www.statcan.gc.ca/fra/idd/idd">son site Web</a>.</p>
<p>Dans cette section, on illustre comment effectuer la mise en forme des données provenant de la BDSPS. Toutefois, le modèle pourrait fonctionner avec une base de données différentes permettant une mise en forme identique.</p>
<p>Une version de base des fichiers de départ est fournie dans le répertoire params, soit <em>startpop.pkl</em> et <em>newimmpop.pkl</em>, tous deux en format « pickle ».</p>
<dl class="simple">
<dt>On utilise trois fonctions de SimGen.</dt><dd><ul class="simple">
<li><p><em>bdsps</em>: manipule la BDSPS de Statistique Canada pour mettre en forme certaines variables et créer les registres avec NAS d’individus dominants.</p></li>
<li><p><em>parse</em>: reformule les noms de variables à l’aide de dictionnaires.</p></li>
<li><p><em>population</em>: crée la structure de population.</p></li>
</ul>
</dd>
</dl>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">simgen</span> <span class="kn">import</span> <span class="n">bdsps</span><span class="p">,</span> <span class="n">population</span><span class="p">,</span> <span class="n">parse</span>
</pre></div>
</div>
</div>
<div class="section" id="nettoyage-de-la-bdsps">
<h2>Nettoyage de la BDSPS<a class="headerlink" href="#nettoyage-de-la-bdsps" title="Lien permanent vers ce titre">¶</a></h2>
<p>SimGen vient avec une fonction, <em>bdsps</em>, qui nettoie les données de la BDSPS, crée les NAS et les trois registres. Cette fonction peut être adaptée pour d’autres bases de données. Fait important à noter, la fonction <em>bdsps</em> calibre aussi les poids des répondants, par âge et sexe, pour s’arrimer sur la population québécoise de 2017, selon l’ISQ.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hh</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="n">kd</span> <span class="o">=</span> <span class="n">bdsps</span><span class="p">(</span><span class="s1">&#39;../raw/bdsps2017.dta&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Voici à quoi ressemblent les registres des indvidus dominants, conjoints et enfants avant la mise en forme finale.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hh</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hhid</th>
      <th>age</th>
      <th>byr</th>
      <th>male</th>
      <th>immig</th>
      <th>newimm</th>
      <th>yrsimm</th>
      <th>educ4</th>
      <th>inschool</th>
      <th>married</th>
      <th>spflag</th>
      <th>wgt</th>
      <th>pn</th>
      <th>nkids</th>
    </tr>
    <tr>
      <th>nas</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>1984</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>False</td>
      <td>False</td>
      <td>0</td>
      <td>397.943</td>
      <td>0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>13</td>
      <td>2004</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>414.793</td>
      <td>2</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>15</td>
      <td>2002</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>450.728</td>
      <td>2</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>33</td>
      <td>1984</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>False</td>
      <td>False</td>
      <td>0</td>
      <td>398.808</td>
      <td>0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>13</td>
      <td>2004</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>415.695</td>
      <td>2</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sp</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hhid</th>
      <th>age</th>
      <th>byr</th>
      <th>male</th>
      <th>immig</th>
      <th>newimm</th>
      <th>yrsimm</th>
      <th>educ4</th>
      <th>inschool</th>
      <th>married</th>
      <th>spflag</th>
      <th>wgt</th>
      <th>pn</th>
    </tr>
    <tr>
      <th>nas</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>21</th>
      <td>7</td>
      <td>39</td>
      <td>1978</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>des</td>
      <td>False</td>
      <td>True</td>
      <td>1</td>
      <td>26.9994</td>
      <td>1</td>
    </tr>
    <tr>
      <th>22</th>
      <td>7</td>
      <td>47</td>
      <td>1970</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>False</td>
      <td>True</td>
      <td>1</td>
      <td>24.59</td>
      <td>0</td>
    </tr>
    <tr>
      <th>26</th>
      <td>8</td>
      <td>39</td>
      <td>1978</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>des</td>
      <td>False</td>
      <td>True</td>
      <td>1</td>
      <td>26.9994</td>
      <td>1</td>
    </tr>
    <tr>
      <th>27</th>
      <td>8</td>
      <td>47</td>
      <td>1970</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>False</td>
      <td>True</td>
      <td>1</td>
      <td>24.59</td>
      <td>0</td>
    </tr>
    <tr>
      <th>31</th>
      <td>9</td>
      <td>39</td>
      <td>1978</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>des</td>
      <td>False</td>
      <td>True</td>
      <td>1</td>
      <td>26.9994</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kd</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hhid</th>
      <th>age</th>
      <th>byr</th>
      <th>male</th>
      <th>immig</th>
      <th>newimm</th>
      <th>yrsimm</th>
      <th>educ4</th>
      <th>inschool</th>
      <th>married</th>
      <th>spflag</th>
      <th>wgt</th>
      <th>pn</th>
      <th>nparents</th>
    </tr>
    <tr>
      <th>nas</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>13</td>
      <td>2004</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>414.793</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>15</td>
      <td>2002</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>450.728</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>13</td>
      <td>2004</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>415.695</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>15</td>
      <td>2002</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>451.708</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2</td>
      <td>13</td>
      <td>2004</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>NaN</td>
      <td>none</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>415.695</td>
      <td>2</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div><p>On partitionne pour obtenir seulement les nouveaux immigrants dans des registres différents.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">imm</span> <span class="o">=</span> <span class="n">hh</span><span class="p">[</span><span class="n">hh</span><span class="o">.</span><span class="n">newimm</span><span class="p">]</span>
<span class="n">imm_nas</span> <span class="o">=</span> <span class="n">imm</span><span class="o">.</span><span class="n">index</span>
<span class="n">sp_imm</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sp</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">imm_nas</span><span class="p">),:]</span>
<span class="n">kd_imm</span> <span class="o">=</span> <span class="n">kd</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">kd</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">imm_nas</span><span class="p">),:]</span>
</pre></div>
</div>
</div>
<div class="section" id="adapter-les-noms-de-variables-pour-simgen">
<h2>Adapter les noms de variables pour SimGen<a class="headerlink" href="#adapter-les-noms-de-variables-pour-simgen" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une étape importante consiste à faire la correspondance entre les noms de variables des registres de la BDSPS et ceux dans SimGen. Pour ce faire, nous avons la classe <em>parse()</em>. Cette classe permet, à l’aide d’un dictionnaire, de faire cette correspondance pour chaque registre. Par défaut, <em>parse()</em> suppose les mêmes noms de variables que dans SimGen.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">parsing</span> <span class="o">=</span> <span class="n">parse</span><span class="p">()</span>
<span class="n">parsing</span><span class="o">.</span><span class="n">map_hh</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;wgt&#39;</span><span class="p">:</span> <span class="s1">&#39;wgt&#39;</span><span class="p">,</span>
 <span class="s1">&#39;byr&#39;</span><span class="p">:</span> <span class="s1">&#39;byr&#39;</span><span class="p">,</span>
 <span class="s1">&#39;male&#39;</span><span class="p">:</span> <span class="s1">&#39;male&#39;</span><span class="p">,</span>
 <span class="s1">&#39;educ&#39;</span><span class="p">:</span> <span class="s1">&#39;educ&#39;</span><span class="p">,</span>
 <span class="s1">&#39;insch&#39;</span><span class="p">:</span> <span class="s1">&#39;insch&#39;</span><span class="p">,</span>
 <span class="s1">&#39;nkids&#39;</span><span class="p">:</span> <span class="s1">&#39;nkids&#39;</span><span class="p">,</span>
 <span class="s1">&#39;married&#39;</span><span class="p">:</span> <span class="s1">&#39;married&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>On fait ensuite notre correspondance propre à la BDSPS.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">parsing</span><span class="o">.</span><span class="n">map_hh</span><span class="p">[</span><span class="s1">&#39;educ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;educ4&#39;</span>
<span class="n">parsing</span><span class="o">.</span><span class="n">map_hh</span><span class="p">[</span><span class="s1">&#39;insch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;inschool&#39;</span>
<span class="n">parsing</span><span class="o">.</span><span class="n">map_sp</span><span class="p">[</span><span class="s1">&#39;educ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;educ4&#39;</span>
<span class="n">parsing</span><span class="o">.</span><span class="n">map_sp</span><span class="p">[</span><span class="s1">&#39;insch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;inschool&#39;</span>
<span class="n">parsing</span><span class="o">.</span><span class="n">map_kd</span><span class="p">[</span><span class="s1">&#39;insch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;inschool&#39;</span>
</pre></div>
</div>
<p>On ajuste ensuite les trois registres à l’aide de ces dictionnaires.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hh</span> <span class="o">=</span> <span class="n">parsing</span><span class="o">.</span><span class="n">dominants</span><span class="p">(</span><span class="n">hh</span><span class="p">)</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">parsing</span><span class="o">.</span><span class="n">spouses</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="n">kd</span> <span class="o">=</span> <span class="n">parsing</span><span class="o">.</span><span class="n">kids</span><span class="p">(</span><span class="n">kd</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hh</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wgt</th>
      <th>byr</th>
      <th>male</th>
      <th>educ</th>
      <th>insch</th>
      <th>nkids</th>
      <th>married</th>
    </tr>
    <tr>
      <th>nas</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>397.942563</td>
      <td>1984</td>
      <td>True</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>414.793316</td>
      <td>2004</td>
      <td>False</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>450.727786</td>
      <td>2002</td>
      <td>True</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>398.807655</td>
      <td>1984</td>
      <td>True</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>415.695040</td>
      <td>2004</td>
      <td>False</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div><div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">imm</span> <span class="o">=</span> <span class="n">parsing</span><span class="o">.</span><span class="n">dominants</span><span class="p">(</span><span class="n">imm</span><span class="p">)</span>
<span class="n">sp_imm</span> <span class="o">=</span> <span class="n">parsing</span><span class="o">.</span><span class="n">spouses</span><span class="p">(</span><span class="n">sp_imm</span><span class="p">)</span>
<span class="n">kd_imm</span> <span class="o">=</span> <span class="n">parsing</span><span class="o">.</span><span class="n">kids</span><span class="p">(</span><span class="n">kd_imm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="creation-des-structures-de-population-et-sauvegarde-des-donnees">
<h2>Création des structures de population et sauvegarde des données<a class="headerlink" href="#creation-des-structures-de-population-et-sauvegarde-des-donnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Après avoir ajusté les registres, on peut les introduire dans des structures de population. La classe <em>population</em> permet de le faire. On peut ensuite sauvegarder les objets en format « pickle » en donnant le nom du fichier.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pop</span> <span class="o">=</span> <span class="n">population</span><span class="p">()</span>
<span class="n">pop</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">hh</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="n">kd</span><span class="p">)</span>
<span class="n">pop</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;startpop&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newimm</span> <span class="o">=</span> <span class="n">population</span><span class="p">()</span>
<span class="n">newimm</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">imm</span><span class="p">,</span><span class="n">sp_imm</span><span class="p">,</span><span class="n">kd_imm</span><span class="p">)</span>
<span class="n">newimm</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;newimmpop&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="code.html" class="btn btn-neutral float-right" title="Documentation des fonctions de SimGen" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="premierpas.html" class="btn btn-neutral float-left" title="Premiers pas avec SimGen" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Équipe CREEi

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>